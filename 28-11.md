# ðŸ§­ Atividade â€“ Topologia Corporativa com Switch Core, VLANs e Sala de Servidores

Nesta atividade, vocÃª irÃ¡ criar uma **topologia corporativa reduzida**, tomando como referÃªncia a topologia estudada em aula (Topologia Senac â€” disponÃ­vel no Microsoft Teams em *Equipes > TI Noite 9900321881 | UC6 â€“ Planejar e Executar a ManutenÃ§Ã£o de Redes Locais de Computadores > Canal Geral > Arquivos > Topologias*).

Diferentemente do modelo original do Senac, agora vocÃª irÃ¡ desenvolver um **cenÃ¡rio corporativo fictÃ­cio**, com foco em trÃªs Ã¡reas principais:

- **Departamento de Contabilidade**  
- **Departamento de Marketing**  
- **Sala de Servidores (Infraestrutura de TI)**  

O objetivo Ã© que vocÃª projete e implemente uma rede **segmentada em VLANs**, com **Switch Core**, **Switches de Acesso**, **Roteador com Subinterfaces**, **Sala de Servidores dedicada** e **endereÃ§amento IP coerente**, alÃ©m de configurar **serviÃ§os essenciais**.

---

## ðŸ“˜ 1. CenÃ¡rio da Empresa

Considere a empresa fictÃ­cia **TechPlus SoluÃ§Ãµes**. Ela possui:

- Um **Departamento de Contabilidade**, responsÃ¡vel por dados financeiros, relatÃ³rios e documentos fiscais;  
- Um **Departamento de Marketing**, responsÃ¡vel por criaÃ§Ã£o de conteÃºdo, material grÃ¡fico e gestÃ£o de mÃ­dias;  
- Uma **Sala de Servidores**, onde ficam concentrados os serviÃ§os de infraestrutura (DNS, e-mail, FTP, etc.).

Esses setores possuem necessidades **distintas de seguranÃ§a, trÃ¡fego e isolamento**, justificando a utilizaÃ§Ã£o de **VLANs**:

- **VLAN 10 â€“ CONTABILIDADE**  
- **VLAN 20 â€“ MARKETING**  
- **VLAN 30 â€“ SERVIDORES**

Cada VLAN representa um **domÃ­nio lÃ³gico separado**, com trÃ¡fego isolado e polÃ­ticas prÃ³prias.

---

## ðŸ§© 2. Estrutura HierÃ¡rquica da Topologia

A rede deverÃ¡ seguir o modelo hierÃ¡rquico:

- Um **Roteador (R1)** realizando o **roteamento inter-VLAN** (Router-on-a-Stick);  
- Um **Switch Core (SW-CORE)** centralizando a distribuiÃ§Ã£o;  
- Dois **Switches de Acesso (SW-ACCESS-1 e SW-ACCESS-2)** conectando os PCs;  
- Uma **Sala de Servidores (VLAN 30)** conectada diretamente ao Switch Core.

---

### 2.1 Diagrama LÃ³gico de ReferÃªncia

> Este diagrama serve apenas como **referÃªncia visual**.  
> Sua topologia deve seguir essa estrutura no Packet Tracer.

```text
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚   ROTEADOR  â”‚
                                â”‚     R1      â”‚
                                â”‚   G0/0 LAN  â”‚
                                â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â”‚ (TRUNK â€“ VLAN 10, 20, 30)
                                       â”‚
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚      SW-CORE      â”‚
                             â”‚   Switch Central  â”‚
                             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚      â”‚                                      â”‚
                                    â”‚      â”‚                                      â”‚
                             (TRUNK)â”‚      â”‚(TRUNK)                               â”‚(ACCESS â€“ VLAN 30)
                                    â”‚      â”‚                                      â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
                         â”‚                             â”‚                          â”‚
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚    SW-ACCESS-1    â”‚         â”‚    SW-ACCESS-2    â”‚       â”‚   SALA DE SERVIDORES  â”‚
               â”‚ (Contabilidade)   â”‚         â”‚    (Marketing)    â”‚       â”‚ (INFRA â€“ VLAN 30)     â”‚
               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚                             â”‚                               â”‚
          PCs â€“ VLAN 10 (Contabilidade)     PCs â€“ VLAN 20 (Marketing)      Servidores â€“ VLAN 30

```

# ðŸŒ 3. Requisitos TÃ©cnicos da Topologia

## 3.1 Equipamentos MÃ­nimos
- **1 Roteador (R1)**
- **1 Switch Core (SW-CORE)**
- **2 Switches de Acesso (SW-ACCESS-1 e SW-ACCESS-2)**
- **3 Servidores na VLAN 30**, sendo:
  - **Servidor 1:** DNS
  - **Servidor 2:** E-mail
  - **Servidor 3:** FTP

**Hosts:**
- **5 PCs na Contabilidade (VLAN 10)**
- **10 PCs no Marketing (VLAN 20)**

---

# ðŸ§± 4. ConexÃµes ObrigatÃ³rias

## 4.1 LigaÃ§Ãµes FÃ­sicas

### **R1 â†’ Switch Core**
- A interface do roteador (ex.: `G0/0`) deve conectar-se ao **SW-CORE** em uma porta **trunk**.

### **Switch Core â†’ Switch Access 1**
- Uplink do **SW-ACCESS-1** â†’ porta **trunk** no **SW-CORE**.

### **Switch Core â†’ Switch Access 2**
- Uplink do **SW-ACCESS-2** â†’ porta **trunk** no **SW-CORE**.

### **Switch Core â†’ Sala de Servidores**
- Cada servidor conectado a uma porta **access** configurada na **VLAN 30**.

---

# ðŸ§® 5. VLANs ObrigatÃ³rias

VocÃª deverÃ¡ configurar as seguintes VLANs na topologia:

- **VLAN 10 â€“ CONTABILIDADE**
- **VLAN 20 â€“ MARKETING**
- **VLAN 30 â€“ SERVIDORES**

---

# ðŸš¦ 6. O que deve ser configurado em cada equipamento

## 6.1 No Roteador (R1)

VocÃª deverÃ¡:

- Criar **3 subinterfaces** na porta conectada ao SW-CORE (ex.: `G0/0`), uma para cada VLAN:
  - Subinterface VLAN 10  
  - Subinterface VLAN 20  
  - Subinterface VLAN 30  
- Configurar **DHCP** no roteador criando um **pool para cada VLAN**, contendo:
  - Rede  
  - MÃ¡scara  
  - Gateway da prÃ³pria subinterface  
  - DNS apontando para o **Servidor DNS** da VLAN 30  

---

## 6.2 No Switch Core (SW-CORE)

VocÃª deverÃ¡:

- Criar as VLANs **10, 20 e 30**
- Configurar:
  - 1 porta **trunk** para o Roteador  
  - 1 porta **trunk** para o SW-ACCESS-1  
  - 1 porta **trunk** para o SW-ACCESS-2  
  - 1 ou mais portas **access VLAN 30** para os Servidores  

---

## 6.3 No Switch Access 1 (SW-ACCESS-1)

VocÃª deverÃ¡:

- Criar a **VLAN 10**
- Configurar:
  - Porta de **uplink (trunk)** para o SW-CORE  
  - Portas dos PCs â†’ **access VLAN 10**

---

## 6.4 No Switch Access 2 (SW-ACCESS-2)

VocÃª deverÃ¡:

- Criar a **VLAN 20**
- Configurar:
  - Porta de **uplink (trunk)** para o SW-CORE  
  - Portas dos PCs â†’ **access VLAN 20**

---

# ðŸ–¥ï¸ 7. Sala de Servidores â€“ Requisitos

A VLAN 30 deve conter **pelo menos 3 servidores**, cada um com funÃ§Ã£o bem definida e **IP estÃ¡tico**:

- **Servidor DNS**
  - ResponsÃ¡vel pela resoluÃ§Ã£o de nomes internos (ex.: `pc1.conta.local`, `ftp.empresa.local`).
- **Servidor de E-mail**
  - ResponsÃ¡vel pelo serviÃ§o de correio (SMTP/POP/IMAP) para os usuÃ¡rios internos.
- **Servidor FTP**
  - ResponsÃ¡vel pelo armazenamento e compartilhamento de arquivos via protocolo FTP.

Cada servidor deve ter:
- **IP estÃ¡tico** configurado manualmente;
- **MÃ¡scara**, **gateway** (roteador na VLAN 30) e **DNS** (apontando para o Servidor DNS interno).

---

## 7.1 Como Configurar o Servidor FTP no Packet Tracer (Passo a Passo)

Abaixo, um passo a passo **detalhado** para o FTP, pensando no **Servidor FTP** na VLAN 30:

### 1. Criar o Servidor FTP na Topologia
1. No Packet Tracer, vÃ¡ em **End Devices** â†’ arraste um **Server** para a Ã¡rea de trabalho.
2. Conecte o servidor ao **SW-CORE** em uma porta configurada como **access na VLAN 30**.

### 2. Configurar EndereÃ§amento IP no Servidor FTP
1. Selecione o **Servidor FTP**.
2. VÃ¡ na aba **Desktop â†’ IP Configuration**.
3. Configure:
   - **IP Address:** IP estÃ¡tico da VLAN 30 (ex.: `192.168.30.30`)  
   - **Subnet Mask:** conforme sua rede (ex.: `255.255.255.0`)  
   - **Default Gateway:** IP da subinterface do roteador na VLAN 30 (ex.: `192.168.30.1`)  
   - **DNS Server:** IP do **Servidor DNS** (ex.: `192.168.30.10`)

> Os valores de IP sÃ£o exemplos, vocÃª deve usar os da sua rede.

### 3. Ativar o ServiÃ§o FTP no Servidor
1. No mesmo servidor, vÃ¡ atÃ© a aba **Services**.
2. Clique em **FTP** no menu lateral.
3. Certifique-se de que o serviÃ§o estÃ¡ como:
   - **On** (ligado).
4. Abaixo, vocÃª verÃ¡ uma Ã¡rea para **User Accounts** (contas de usuÃ¡rio).

### 4. Criar UsuÃ¡rios para Acessar o FTP
Ainda na tela de **FTP**:

1. Em **User**, crie pelo menos um usuÃ¡rio, por exemplo:
   - **Username:** `aluno`  
   - **Password:** `123` (ou outra senha simples para teste)
2. Clique em **Add** para salvar o usuÃ¡rio.
3. Opcionalmente, crie mais usuÃ¡rios (ex.: `professor`, `admin`).
4. Verifique o diretÃ³rio raiz do FTP (normalmente o Packet Tracer jÃ¡ cria uma pasta padrÃ£o).

### 5. Adicionar Arquivos de Teste no Servidor FTP (Opcional, mas recomendado)
1. Ainda na aba **Services â†’ FTP**, veja a lista de arquivos do servidor.
2. VocÃª pode:
   - Criar, renomear ou deletar arquivos.
   - Adicionar um arquivo de teste (ex.: `leia-me.txt`) para confirmar o download pelos clientes.

### 6. Testar Acesso FTP a partir de um PC

Escolha um PC da rede (ex.: PC da Contabilidade ou Marketing):

1. Verifique se o PC recebeu IP via **DHCP** e consegue **pingar** o IP do Servidor FTP.
2. No PC, vÃ¡ em **Desktop â†’ Command Prompt**.
3. Digite o comando:
   ```bash
   ftp 192.168.30.30
   ```
   (substitua pelo IP real do seu Servidor FTP)
4. Quando for solicitado:
   - **User:** digite o usuÃ¡rio criado (ex.: `aluno`)
   - **Password:** digite a senha configurada (ex.: `123`)
5. Se o login der certo, vocÃª verÃ¡ o prompt do FTP (ex.: `ftp>`), podendo usar comandos bÃ¡sicos:
   - `dir` â†’ lista arquivos  
   - `get nome_arquivo` â†’ baixa um arquivo  
   - `put nome_arquivo` â†’ envia um arquivo (em alguns cenÃ¡rios)  

Se vocÃª estiver usando o **Web Browser** de um PC:
1. VÃ¡ em **Desktop â†’ Web Browser**.
2. No campo de URL, digite:
   ```text
   ftp://192.168.30.30
   ```
3. Quando solicitado, informe **usuÃ¡rio** e **senha** para acessar os arquivos.

---

# ðŸ§ª 8. Testes ObrigatÃ³rios

VocÃª deve realizar e registrar no relatÃ³rio:

### **Teste de DHCP**
- PC da Contabilidade â†’ receber IP automÃ¡tico (VLAN 10)  
- PC do Marketing â†’ receber IP automÃ¡tico (VLAN 20)

### **Teste de ComunicaÃ§Ã£o**
- Ping entre PCs da **mesma VLAN**  
- Ping da Contabilidade â†’ Servidor DNS / E-mail / FTP (todos na VLAN 30)  
- Ping do Marketing â†’ Servidor DNS / E-mail / FTP  

### **Teste de DNS**
- Verificar se o **Servidor DNS** resolve corretamente:
  - Nome do servidor de e-mail (ex.: `mail.empresa.local`)  
  - Nome do servidor FTP (ex.: `ftp.empresa.local`)  
  - Outros hosts internos, se cadastrados.

### **Teste de ServiÃ§os**

- **FTP:**
  - Acessar o servidor FTP com usuÃ¡rio e senha a partir de um PC.
  - Listar arquivos (comando `dir` ou via navegador).
  - Baixar pelo menos um arquivo de teste.

- **E-mail (se configurado):**
  - Criar contas de e-mail no servidor de e-mail.
  - Enviar e-mail entre usuÃ¡rios da Contabilidade/Marketing.

---

# ðŸŽ¯ Objetivo Educacional

Ao concluir esta atividade, vocÃª terÃ¡ praticado:

- Arquitetura hierÃ¡rquica (Core + Acesso)  
- SegmentaÃ§Ã£o via VLANs  
- Router-on-a-Stick (inter-VLAN)  
- DHCP centralizado  
- ServiÃ§os de infraestrutura separados (DNS, E-mail, FTP)  
- Acesso e teste de FTP na prÃ¡tica  


# Materiais auxiliares:
[documentacao-ConfigRouterSubIf-AplicacaoDHCP-ConfigVLANs](https://github.com/user-attachments/files/23829966/documentacao-ConfigRouterSubIf-AplicacaoDHCP-ConfigVLANs.md)

[Aula | ConfiguraÃ§Ã£o Switch-Core (central) Rede ADM + Switches da sala de servidor + Sala ADM](https://senacspedu.sharepoint.com/:v:/s/Section_sec_180959900321881/IQA5LE-RvXoMQpu4A5AeS8JFAXEv5wzSLrQlWMkNt5P7Haw?e=Ll940h)
